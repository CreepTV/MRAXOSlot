<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slot Browsergame</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="firebase.js"></script>
    
    <!-- Global Balance Manager -->
    <script src="balanceManager.js"></script>
    
    <!-- Einfache Version ohne Firebase f√ºr Test -->
    <script defer src="main.js"></script>
</head>
<body>
    <header>
        <!-- Guest Warning Notice -->
        <div class="guest-warning" id="guest-warning" style="display: none;">
            <div class="warning-content">
                <span class="warning-icon">‚ö†Ô∏è</span>
                <div class="warning-text">
                    <strong>Gastmodus</strong>
                    <span class="warning-subtext">Melde dich an f√ºr echten Fortschritt!</span>
                </div>
                <button class="warning-login-btn" id="warning-login-btn">
                    <span>üîë</span>
                    Anmelden
                </button>
            </div>
        </div>
        
        <div class="profile">
            <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" alt="Profil" id="profile-img" />
            <div class="profile-dropdown" id="profile-dropdown">
                <div class="dropdown-content">
                    <!-- F√ºr nicht eingeloggte Benutzer -->
                    <div class="guest-menu">
                        <div class="dropdown-item" id="login-btn">
                            <span class="dropdown-icon">üîë</span>
                            Anmelden
                        </div>
                        <div class="dropdown-item" id="register-btn">
                            <span class="dropdown-icon">üìù</span>
                            Registrieren
                        </div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item guest-info">
                            <span class="dropdown-icon">üë§</span>
                            Gastmodus
                        </div>
                    </div>
                    
                    <!-- F√ºr eingeloggte Benutzer -->
                    <div class="user-menu" style="display: none;">
                        <div class="user-info">
                            <span class="username" id="username-display">Benutzer</span>
                            <span class="user-email" id="email-display">user@example.com</span>
                        </div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item" id="public-profile-btn">
                            <span class="dropdown-icon">üëÅÔ∏è</span>
                            √ñffentliches Profil
                        </div>
                        <div class="dropdown-item" id="profile-settings">
                            <span class="dropdown-icon">‚öôÔ∏è</span>
                            Einstellungen
                        </div>
                        <div class="dropdown-item" id="stats-btn">
                            <span class="dropdown-icon">üìä</span>
                            Statistiken
                        </div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item" id="logout-btn">
                            <span class="dropdown-icon">üö™</span>
                            Abmelden
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="header-balance"><span id="balance">1000</span></div>
    </header>
    <main>
        <section class="slot-cards">
            <div class="ad-card">
                <div class="slideshow">
                    <div class="slide active">Ad 1</div>
                    <div class="slide">Ad 2</div>
                    <div class="slide">Ad 3</div>
                </div>
                <div class="slideshow-dots">
                    <span class="dot active"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                </div>
            </div>
            <div class="slot-card emoji-bonanza">
                <div class="slot-card-header">
                    <div class="slot-title">Emoji Bonanza</div>
                    <div class="slot-subtitle">üé∞ Jackpot Slots</div>
                </div>
                <div class="slot-preview">
                    <div class="preview-reels">
                        <div class="preview-reel">
                            <span class="symbol">üçí</span>
                            <span class="symbol">üíé</span>
                            <span class="symbol">üçÄ</span>
                        </div>
                        <div class="preview-reel">
                            <span class="symbol">üîî</span>
                            <span class="symbol">‚≠ê</span>
                            <span class="symbol">üçâ</span>
                        </div>
                        <div class="preview-reel">
                            <span class="symbol">üçá</span>
                            <span class="symbol">üçä</span>
                            <span class="symbol">üçã</span>
                        </div>
                    </div>
                    <div class="jackpot-display">
                        <div class="jackpot-label">üí∞ JACKPOT</div>
                        <div class="jackpot-amount" id="jackpot-counter">‚Ç¨12,543</div>
                    </div>
                </div>
                <div class="slot-features">
                    <span class="feature-tag">üéØ Auto Spin</span>
                    <span class="feature-tag">üí´ Big Wins</span>
                    <span class="feature-tag">üéµ Music</span>
                </div>
                <div class="play-overlay">
                    <button class="play-btn" onclick="window.location.href='SlotMachine1/slot1.html'">
                        <span class="play-icon">‚ñ∂</span>
                        SPIELEN
                    </button>
                </div>
            </div>
            <div class="slot-card">Slot 2</div>
            <div class="slot-card">Slot 3</div>
        </section>
    </main>
    <nav class="bottom-nav">
        <button>Home</button>
        <button>Slots</button>
        <button>Shop</button>
        <button>Profil</button>
    </nav>
    <!-- Profil-Popup -->
    <div id="profile-modal" class="modal" style="display:none;">
        <div class="modal-content profile-modal-large">
            <span class="close" id="close-profile-modal">&times;</span>
            <div class="profile-modal-header">
                <img id="profile-modal-img" class="profile-modal-img" src="https://cdn-icons-png.flaticon.com/512/149/149071.png" alt="Profilbild">
                <div class="profile-modal-info">
                    <div class="profile-modal-row">
                        <span id="profile-modal-username" class="profile-modal-username"></span>
                        <button id="edit-profile-btn" class="edit-btn" title="Bearbeiten"><span>‚úèÔ∏è</span></button>
                    </div>
                    <div class="profile-modal-row">
                        <span id="profile-modal-country" class="profile-modal-country"></span>
                        <span id="profile-modal-level" class="profile-modal-level"></span>
                    </div>
                </div>
            </div>
            <div class="profile-modal-body">
                <label>Kommentar:</label>
                <div id="profile-modal-comment" class="profile-modal-comment"></div>
                <div class="profile-modal-row">
                    <div class="profile-stat">
                        <span class="profile-icon">üí∞</span>
                        <div class="profile-stat-value" id="profile-modal-balance">0</div>
                        <div class="profile-stat-label">Guthaben</div>
                    </div>
                    <div class="profile-stat">
                        <span class="profile-icon">üë•</span>
                        <div class="profile-stat-value" id="profile-modal-friends">0</div>
                        <div class="profile-stat-label">Freunde</div>
                    </div>
                </div>
            </div>
            <div id="profile-modal-edit" class="profile-modal-edit" style="display:none;">
                <label>Username:</label>
                <input type="text" id="edit-username" maxlength="20">
                <label>Kommentar:</label>
                <textarea id="edit-comment" maxlength="100"></textarea>
                <label>Profilbild-Link:</label>
                <input type="text" id="edit-imglink">
                <label>Land:</label>
                <div class="custom-select-container">
                    <div id="custom-country-select" class="custom-select">
                        <div class="select-selected">
                            <img class="flag-icon" src="https://flagcdn.com/w40/de.png" alt="Germany">
                            <span class="country-name">Deutschland</span>
                            <span class="select-arrow">‚ñº</span>
                        </div>
                        <div class="select-items">
                            <div class="select-item" data-value="Germany">
                                <img class="flag-icon" src="https://flagcdn.com/w40/de.png" alt="Germany">
                                <span>Deutschland</span>
                            </div>
                            <div class="select-item" data-value="Austria">
                                <img class="flag-icon" src="https://flagcdn.com/w40/at.png" alt="Austria">
                                <span>√ñsterreich</span>
                            </div>
                            <div class="select-item" data-value="Switzerland">
                                <img class="flag-icon" src="https://flagcdn.com/w40/ch.png" alt="Switzerland">
                                <span>Schweiz</span>
                            </div>
                            <div class="select-item" data-value="France">
                                <img class="flag-icon" src="https://flagcdn.com/w40/fr.png" alt="France">
                                <span>Frankreich</span>
                            </div>
                            <div class="select-item" data-value="Italy">
                                <img class="flag-icon" src="https://flagcdn.com/w40/it.png" alt="Italy">
                                <span>Italien</span>
                            </div>
                            <div class="select-item" data-value="Spain">
                                <img class="flag-icon" src="https://flagcdn.com/w40/es.png" alt="Spain">
                                <span>Spanien</span>
                            </div>
                            <div class="select-item" data-value="Poland">
                                <img class="flag-icon" src="https://flagcdn.com/w40/pl.png" alt="Poland">
                                <span>Polen</span>
                            </div>
                            <div class="select-item" data-value="Netherlands">
                                <img class="flag-icon" src="https://flagcdn.com/w40/nl.png" alt="Netherlands">
                                <span>Niederlande</span>
                            </div>
                            <div class="select-item" data-value="Turkey">
                                <img class="flag-icon" src="https://flagcdn.com/w40/tr.png" alt="Turkey">
                                <span>T√ºrkei</span>
                            </div>
                            <div class="select-item" data-value="UK">
                                <img class="flag-icon" src="https://flagcdn.com/w40/gb.png" alt="UK">
                                <span>Vereinigtes K√∂nigreich</span>
                            </div>
                            <div class="select-item" data-value="USA">
                                <img class="flag-icon" src="https://flagcdn.com/w40/us.png" alt="USA">
                                <span>USA</span>
                            </div>
                            <div class="select-item" data-value="Canada">
                                <img class="flag-icon" src="https://flagcdn.com/w40/ca.png" alt="Canada">
                                <span>Kanada</span>
                            </div>
                            <div class="select-item" data-value="Russia">
                                <img class="flag-icon" src="https://flagcdn.com/w40/ru.png" alt="Russia">
                                <span>Russland</span>
                            </div>
                            <div class="select-item" data-value="Japan">
                                <img class="flag-icon" src="https://flagcdn.com/w40/jp.png" alt="Japan">
                                <span>Japan</span>
                            </div>
                            <div class="select-item" data-value="China">
                                <img class="flag-icon" src="https://flagcdn.com/w40/cn.png" alt="China">
                                <span>China</span>
                            </div>
                            <div class="select-item" data-value="Brazil">
                                <img class="flag-icon" src="https://flagcdn.com/w40/br.png" alt="Brazil">
                                <span>Brasilien</span>
                            </div>
                            <div class="select-item" data-value="Australia">
                                <img class="flag-icon" src="https://flagcdn.com/w40/au.png" alt="Australia">
                                <span>Australien</span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Hidden input for form compatibility -->
                <input type="hidden" id="edit-country" value="Germany">
                <button id="save-profile-btn">Speichern</button>
            </div>
        </div>
    </div>
    <!-- Ende Profil-Popup -->
</body>
</html>
